<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>选择优化的数据类型 | note</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.65e3a471.css" as="style"><link rel="preload" href="/assets/js/app.b3fd54d2.js" as="script"><link rel="preload" href="/assets/js/2.5b3be71e.js" as="script"><link rel="preload" href="/assets/js/16.6940b351.js" as="script"><link rel="prefetch" href="/assets/js/10.c5ad21fe.js"><link rel="prefetch" href="/assets/js/11.b0f06381.js"><link rel="prefetch" href="/assets/js/12.454f24c4.js"><link rel="prefetch" href="/assets/js/13.5de614b6.js"><link rel="prefetch" href="/assets/js/14.cbd04034.js"><link rel="prefetch" href="/assets/js/15.a9577777.js"><link rel="prefetch" href="/assets/js/3.d0744a8d.js"><link rel="prefetch" href="/assets/js/4.f7489d15.js"><link rel="prefetch" href="/assets/js/5.54e160d5.js"><link rel="prefetch" href="/assets/js/6.341fc171.js"><link rel="prefetch" href="/assets/js/7.c129c07a.js"><link rel="prefetch" href="/assets/js/8.fbb6fbd5.js"><link rel="prefetch" href="/assets/js/9.01fd0e98.js">
    <link rel="stylesheet" href="/assets/css/0.styles.65e3a471.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Mysql</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mysql/MYSQL performance schema详解.html" class="sidebar-link">MYSQL performance schema详解</a></li><li><a href="/mysql/Mysql 安装配置.html" class="sidebar-link">mysql安装</a></li><li><a href="/mysql/Mysql 索引结构及算法.html" class="sidebar-link">索引定义</a></li><li><a href="/mysql/mysql的锁机制.html" class="sidebar-link">mysql的锁机制</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>高性能mysql</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mysql/高性能mysql/mysql架构与历史.html" class="sidebar-link">并发控制</a></li><li><a href="/mysql/高性能mysql/schema与数据类型优化.html" class="active sidebar-link">选择优化的数据类型</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="选择优化的数据类型"><a href="#选择优化的数据类型" class="header-anchor">#</a> 选择优化的数据类型</h3> <div class="language- extra-class"><pre class="language-text"><code>更小的通常更好
	一般情况下，应该尽量使用可以正确存储数据的最小数据类型。更小的数据类型通常更快，因为他们占用更少的磁盘、内存和CPU缓存，并且处理时需要的CPU周期更少。
简单就好
	简单数据类型的操作通常需要更少的CPU周期。
尽量避免NULL
</code></pre></div><h4 id="整数类型-whole-number"><a href="#整数类型-whole-number" class="header-anchor">#</a> 整数类型（whole number）</h4> <p>整数类型：TINYINT，SMALLINT，MEDIUMINT，INT，BIGINT。分别用8，16，24，32，64位存储空间。他们可以存储的值的范围是-2^(N-1)到2(N-1)-1，其中N是存储空间的位数。</p> <p>mysql可以为整数类型指定宽度，列入INT(11)，对于大多数应用这是没意义的：它不会限制值的合法范围，只是规定了mysql的一些交互工具来显示字符的个数。对于存储和计算来说INT(1)和INT(20)是相同的。</p> <h4 id="实数类型-real-number"><a href="#实数类型-real-number" class="header-anchor">#</a> 实数类型（real number）</h4> <p>实数是带有小数部分的数字。然而，它们不只是为了存储小数部分；也可以使用DECIMAL存储比BIGINT更大的整数。mysql既支持精确类型，也支持不精确类型。</p> <h4 id="字符串类型"><a href="#字符串类型" class="header-anchor">#</a> 字符串类型</h4> <h5 id="varchar和char类型"><a href="#varchar和char类型" class="header-anchor">#</a> VARCHAR和CHAR类型</h5> <p>VARCHAR和CHAR是两种主要的字符串类型。如何存储在磁盘和内存中，主要跟存储引擎的实现有关。</p> <h5 id="varchar"><a href="#varchar" class="header-anchor">#</a> VARCHAR</h5> <p>​	VARCHAR类型用于存储可变长度字符串，是最常见的字符串数据类型。它不定长类型更节省空间，因为它仅使用必要的空间。有一种例外情况，如果mysql表使用ROW_FORMAT=FIXED创建的话，每一行都会使用定长存储，这会很浪费时间。</p> <p>​	VARCHAR使用1或2个额外字节记录字符串的长度：如果列的最大长度小于或等于255字节，使用1个字节表示，否则使用2个字节。</p> <p>​	VARCHAR节省了存储空间，所以对性能也有帮助。但是，由于行是可变的，所以在update时可能使行变的比原来更长，这就导致需要做额外的工作。如果一行占用的空间增长，并且在页内没有更多的空间可以存储，在这种情况下，不同的存储引擎的处理方式是不一样的。列入，MyISAM会将行拆成不同的片段存储，InnoDB则需要分裂页来使行可以放进页内。其他的一些存储引擎也许从不在原数据位置更小数据。</p> <h5 id="char"><a href="#char" class="header-anchor">#</a> CHAR</h5> <p>​	CHAR类型是定长的：mysql总是根据定义的字符串长度分配足够的空间。当存储CHAR值时，mysql会删除所有的末尾空格。CHAR值会根据需要采用的空格进行填充以方便比较。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mysql/高性能mysql/mysql架构与历史.html" class="prev">
        并发控制
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b3fd54d2.js" defer></script><script src="/assets/js/2.5b3be71e.js" defer></script><script src="/assets/js/16.6940b351.js" defer></script>
  </body>
</html>
